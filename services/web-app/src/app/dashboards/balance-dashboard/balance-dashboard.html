<!-- balance-dashboard.html -->
<div class="balance-dashboard">

  <!-- Loading State -->
  <div *ngIf="carregando" class="loading-container">
    <div class="spinner"></div>
    <p>Carregando seus dados...</p>
  </div>

  <!-- Error State -->
  <div *ngIf="erro && !carregando" class="error-message">
    <span class="error-icon">âš ï¸</span>
    <span>{{ erro }}</span>
  </div>

  <!-- Dashboard Content -->
  <div *ngIf="!carregando && !erro">

    <!-- Header -->
    <div class="header">
      <div class="header-content">
        <h1>VisÃ£o Geral</h1>
        <p class="subtitle">Acompanhe seus saldos e investimentos</p>
      </div>
      <div class="header-actions">
        <button class="btn-refresh" (click)="atualizar()">
          <span class="icon">ğŸ”„</span>
          Atualizar
        </button>
        <button class="btn-export" (click)="exportar()">
          <span class="icon">ğŸ“¥</span>
          Exportar
        </button>
      </div>
    </div>

    <!-- Main Cards Grid -->
    <div class="cards-grid">

      <!-- Saldo Total Card -->
      <div class="balance-card total-card">
        <div class="card-header">
          <div class="card-title-group">
            <h3>Saldo Total</h3>
            <p class="card-subtitle">PatrimÃ´nio total</p>
          </div>
          <div class="card-icon blue-icon">
            <span>ğŸ’°</span>
          </div>
        </div>
        <div class="card-value-container">
          <span class="currency-symbol">R$</span>
          <span class="card-value">{{ formatarMoeda(saldoTotal) }}</span>
        </div>
      </div>

      <!-- PoupanÃ§a Card -->
      <div class="balance-card">
        <div class="card-header">
          <div class="card-title-group">
            <h3>PoupanÃ§a</h3>
            <p class="card-subtitle">Saldo em poupanÃ§a</p>
          </div>
          <div class="card-icon yellow-icon">
            <span>ğŸ¦</span>
          </div>
        </div>
        <div class="card-value-container">
          <span class="currency-symbol">R$</span>
          <span class="card-value">{{ formatarMoeda(poupanca) }}</span>
        </div>
      </div>

      <!-- Investimentos Card -->
      <div class="balance-card investments-card">
        <div class="card-header">
          <div class="card-title-group">
            <h3>Investimentos</h3>
            <p class="card-subtitle">Carteira de investimentos</p>
          </div>
          <div class="card-icon green-icon">
            <span>ğŸ“ˆ</span>
          </div>
        </div>
        <div class="card-value-container">
          <span class="currency-symbol">R$</span>
          <span class="card-value">{{ formatarMoeda(investimentos) }}</span>
        </div>
        <div class="percentage-badge">
          <span class="percentage-icon">ğŸ“ˆ</span>
          <span class="percentage-value">+{{ porcentagemInvestimentos | number:'1.2-2' }}%</span>
          <span class="percentage-label">do total</span>
        </div>
      </div>

    </div>

    <!-- Info Footer -->
    <div class="info-footer">
      <div class="update-info">
        <div class="status-dot"></div>
        <span class="update-label">Ãšltima atualizaÃ§Ã£o:</span>
        <span class="update-time">{{ dataAtualizacao }}</span>
      </div>
      <span class="realtime-info">Os valores sÃ£o atualizados em tempo real</span>
    </div>

  </div>

</div>
