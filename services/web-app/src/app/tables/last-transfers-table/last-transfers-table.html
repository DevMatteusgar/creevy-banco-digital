<div class="container fade-in">
  <div class="card">
    <div class="header">
      <h1>Registro de Transações</h1>
      <p>Últimas 5 transações</p>
    </div>

    <div class="content">
      <table>
        <thead>
        <tr>
          <th>Data</th>
          <th>Operação</th>
          <th>Remetente</th>
          <th>Destinatário</th>
          <th>CPF</th>
          <th class="text-right">Valor</th>
        </tr>
        </thead>

        <tbody>
        <tr
          *ngFor="let transacao of transacoesLimitadas; let i = index"
          class="linha-animada"
          [style.animation-delay]="i * 0.1 + 's'"
        >
          <!-- Data -->
          <td>{{ formatarData(transacao.date) }}</td>

          <!-- Operação -->
          <td class="operacao">
            {{
              transacao.operationType === 'Deposit'
                ? 'Depósito'
                : transacao.operationType === 'TransferSend'
                  ? 'Transferência enviada'
                  : transacao.operationType === 'TransferReceive'
                    ? 'Transferência recebida'
                    : transacao.operationType
            }}
          </td>

          <!-- Remetente -->
          <td>{{ transacao.senderName }}</td>

          <!-- Destinatário -->
          <td>{{ transacao.receiverName }}</td>

          <!-- CPF -->
          <td>{{ transacao.receiverCpf }}</td>

          <!-- Valor (sem seta) -->
          <td
            class="valor"
            [ngClass]="{
                negativo: transacao.operationType === 'TransferSend',
                positivo: transacao.operationType !== 'TransferSend'
              }"
          >
            {{
              transacao.operationType === 'TransferSend'
                ? '-' + formatarValor(transacao.amount)
                : formatarValor(transacao.amount)
            }}
          </td>
        </tr>

        <tr *ngIf="transacoesLimitadas.length === 0">
          <td colspan="6" class="empty">Nenhuma transação disponível</td>
        </tr>
        </tbody>
      </table>

      <div class="footer">
        <p>Total de transações: <strong>{{ transfers.length }}</strong></p>
        <p class="total">
          <span>Volume total: </span>
          <strong>{{ formatarValor(valorTotal) }}</strong>
        </p>
      </div>
    </div>
  </div>
</div>
